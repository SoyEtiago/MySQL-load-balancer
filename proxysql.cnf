datadir="/var/lib/proxysql"

admin_variables=
{
    admin_credentials="admin:admin"
    mysql_ifaces="0.0.0.0:6032"
}

mysql_variables=
{
    threads=2
    max_connections=2048
    default_query_delay=0
    default_query_timeout=36000000
    poll_timeout=2000
    interfaces="0.0.0.0:6033"
}

mysql_servers =
(
    { address="mysql-master", port=3306, hostgroup_id=10, max_connections=200 },
    { address="mysql-slave1", port=3306, hostgroup_id=20, max_connections=200 },
    { address="mysql-slave2", port=3306, hostgroup_id=20, max_connections=200 }
)

mysql_users =
(
    { username="root", password="rootpass", default_hostgroup=10, transaction_persistent=1 },
    { username="replica", password="replicapass", default_hostgroup=20, transaction_persistent=1 }
)

mysql_query_rules =
(
    { rule_id=1, active=1, match_pattern="^SELECT", destination_hostgroup=20, apply=1 },
    { rule_id=2, active=1, match_pattern=".*", destination_hostgroup=10, apply=1 }
)
